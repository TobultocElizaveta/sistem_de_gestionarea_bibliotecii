{% extends 'base.html' %}

{% block content %}
<!-- Include CSS Select2 -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

<div class="flex justify-center items-center bg-gray-100 min-h-screen">
    <div class="bg-white p-8 rounded shadow-md w-3/4">
        <h1 class="text-2xl mb-4">Adaugă o carte</h1>
        <form method="POST" action="{{ url_for('add_book') }}">
            <label for="title" class="block mb-2">Titlu:</label>
            <input type="text" name="title" class="w-full border rounded p-2 mb-2" required><br>

            <label for="author" class="block mb-2">Autor:</label>
            <input type="text" name="author" class="w-full border rounded p-2 mb-2" required><br>

            <label for="genre" class="block mb-2">Gen:</label>
            <select name="genre_id" id="genre" class="select2 w-full border rounded p-2 mb-2" required>
                <option></option>  <!-- Opțiune goală pentru placeholder -->
                {% for genre in genres %}
                    <option value="{{ genre.id }}">{{ genre.name }}</option>
                {% endfor %}
            </select><br>

            <label for="isbn" class="block mb-2">ISBN:</label>
            <input type="text" name="isbn" class="w-full border rounded p-2 mb-2" required><br>

            <label for="publisher" class="block mb-2">Editura:</label>
            <input type="text" name="publisher" class="w-full border rounded p-2 mb-2" required><br>

            <label for="page" class="block mb-2">Anul:</label>
            <input type="text" name="page" class="w-full border rounded p-2 mb-2" required><br>

            <label for="stock" class="block mb-2">Stoc:</label>
            <input type="text" name="stock" class="w-full border rounded p-2 mb-2" required><br>

            <button type="submit" class="bg-blue-500 text-white rounded p-2">Adaugă cartea</button>
        </form>
    </div>
</div>

<!-- Include jQuery și Select2 JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script>
    $(document).ready(function() {
        $('#genre').select2({
            placeholder: "Selectează un gen",
            allowClear: true
        });
    });
</script>
{% endblock %}

